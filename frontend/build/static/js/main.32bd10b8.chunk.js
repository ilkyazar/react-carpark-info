(this["webpackJsonpispark-car-parks"]=this["webpackJsonpispark-car-parks"]||[]).push([[0],{146:function(t,e,a){t.exports=a(350)},152:function(t,e,a){},350:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),s=a(54),i=a.n(s),l=a(143),c=a(79),o=a.n(c),u=a(137),p=a(138),h=a(139),d=a(144),m=a(140),k=a(145),v=(a(152),a(34)),g=function(t){function e(){var t,a;Object(p.a)(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(d.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(n)))).state={data:"",district:"",ParkID:0},a}return Object(k.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/data",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return e=t.sent,t.next=5,e.json();case 5:a=t.sent,this.setState({data:a});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"createDistrictOptions",value:function(){var t=[];for(var e in this.state.data)t.push(this.state.data[e].Ilce);t=Object(l.a)(new Set(t));var a=[];for(var r in t)a.push(n.a.createElement("option",{key:r,value:t[r]},t[r]));return a}},{key:"createCarParkOptions",value:function(){var t=[];for(var e in this.state.data)this.state.data[e].Ilce===this.state.district&&t.push(n.a.createElement("option",{key:e,value:this.state.data[e].ParkID},this.state.data[e].ParkAdi));return t}},{key:"getFreeParkingSpaces",value:function(){var t=0;for(var e in this.state.data)Number(this.state.data[e].ParkID)===Number(this.state.ParkID)&&(t=this.state.data[e].BosKapasite);return t}},{key:"getUsedParkingSpaces",value:function(){var t=0,e=0;for(var a in this.state.data)Number(this.state.data[a].ParkID)===Number(this.state.ParkID)&&(e=this.state.data[a].BosKapasite,t=this.state.data[a].Kapasitesi);return t-e}},{key:"getLatitude",value:function(){var t=40.96;for(var e in this.state.data)Number(this.state.data[e].ParkID)===Number(this.state.ParkID)&&(t=this.state.data[e].Latitude);return t}},{key:"getLongitude",value:function(){var t=29.1;for(var e in this.state.data)Number(this.state.data[e].ParkID)===Number(this.state.ParkID)&&(t=this.state.data[e].Longitude);return t}},{key:"render",value:function(){var t=this,e=Object(v.withScriptjs)(Object(v.withGoogleMap)((function(t){return n.a.createElement(v.GoogleMap,{defaultZoom:15,defaultCenter:{lat:t.lat,lng:t.lon}},t.showMarker&&n.a.createElement(v.Marker,{position:{lat:t.lat,lng:t.lon}}))})));return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},"Ispark Car Parks"),n.a.createElement((function(){return n.a.createElement("form",null,n.a.createElement("p",null,n.a.createElement("strong",null,"Districts of Car Parks:")),n.a.createElement("select",{value:t.state.district,onChange:function(e){return t.setState({district:e.target.value})}},n.a.createElement("option",{value:""},"Select a district"),t.createDistrictOptions()))}),null),n.a.createElement((function(){return n.a.createElement("form",null,n.a.createElement("p",null,n.a.createElement("strong",null,"Car Parks:")),n.a.createElement("select",{value:t.state.ParkID,onChange:function(e){return t.setState({ParkID:e.target.value})}},!t.state.district&&n.a.createElement("option",{value:""},"Please select a district first"),t.state.district&&n.a.createElement("option",{value:""},"Select a car park"),t.createCarParkOptions()))}),null),n.a.createElement("p",null,n.a.createElement("strong",null,"Free Parking Spaces:")),this.getFreeParkingSpaces()," (",this.getUsedParkingSpaces()," used)",n.a.createElement("p",null,n.a.createElement("strong",null,"Location of the Car Park:")),n.a.createElement(e,{showMarker:"true",lon:Number(this.getLongitude()),lat:Number(this.getLatitude()),googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places",loadingElement:n.a.createElement("div",{style:{height:"100%"}}),containerElement:n.a.createElement("div",{style:{height:"500px"}}),mapElement:n.a.createElement("div",{style:{height:"100%"}})}))}}]),e}(r.Component);i.a.render(n.a.createElement(g,null),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.32bd10b8.chunk.js.map